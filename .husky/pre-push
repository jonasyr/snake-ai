#!/usr/bin/env sh

echo "ğŸš€ Running pre-push checks..."

# Run comprehensive test suite with coverage
echo "ğŸ§ª Running full test suite with coverage..."
npm run test:coverage -- --run --reporter=verbose

# Ensure build works in production mode
echo "ğŸ—ï¸ Verifying production build..."
npm run build

# Run any simulation tests to ensure core game logic works
echo "ğŸ® Running quick simulation test..."
npm run simulate -- --games 10 --rows 10 --cols 10

echo "âœ… Pre-push checks passed! Safe to push."
echo "ğŸ‰ All quality gates passed!"